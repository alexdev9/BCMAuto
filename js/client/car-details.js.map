{"version":3,"file":"car-details.js","sourceRoot":"","sources":["../../../src/client/car-details.ts"],"names":[],"mappings":"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","sourcesContent":["import { Car } from '../types';\r\nimport { formatPrice } from '../utils';\r\n\r\nlet currentCar: Car | null = null;\r\nconst carDetailsModal = document.getElementById('carDetailsModal');\r\n\r\nfunction closeCarDetailsModal() {\r\n    if (!carDetailsModal) return;\r\n    carDetailsModal.classList.add('hidden');\r\n    currentCar = null;\r\n}\r\n\r\nfunction openCarDetailsModal(car: Car) {\r\n    if (!carDetailsModal) return;\r\n    currentCar = car;\r\n    const title = document.getElementById('carDetailsTitle');\r\n    const content = document.getElementById('carDetailsContent');\r\n    \r\n    if (title && content) {\r\n        title.textContent = `${car.year} ${car.make} ${car.model}`;\r\n        content.innerHTML = `\r\n            <div class=\"relative h-96\">\r\n                <div class=\"image-carousel h-full\" data-car-id=\"details-${car.id}\" data-images='${JSON.stringify(car.images)}' data-current-index=\"0\">\r\n                    <img src=\"${car.images[0]}\" alt=\"${car.make} ${car.model}\" \r\n                         class=\"w-full h-full object-cover rounded-lg\">\r\n                    <button onclick=\"prevImage('details-${car.id}')\" \r\n                            class=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75\">\r\n                        <i class=\"fas fa-chevron-left\"></i>\r\n                    </button>\r\n                    <button onclick=\"nextImage('details-${car.id}')\" \r\n                            class=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75\">\r\n                        <i class=\"fas fa-chevron-right\"></i>\r\n                    </button>\r\n                    <div class=\"image-counter absolute bottom-4 right-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded\">\r\n                        1/${car.images.length}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid grid-cols-1 gap-6 mt-6\">\r\n                <!-- Basic Information -->\r\n                <div class=\"bg-gray-50 p-6 rounded-lg\">\r\n                    <h3 class=\"text-lg font-semibold mb-4\">Informazioni Base</h3>\r\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Tipo Carrozzeria:</span>\r\n                            <p class=\"font-medium\">${car.bodyType}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Condizione:</span>\r\n                            <p class=\"font-medium\">${car.vehicleCondition}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Tipo Trazione:</span>\r\n                            <p class=\"font-medium\">${car.driveType}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Posti:</span>\r\n                            <p class=\"font-medium\">${car.seats}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Porte:</span>\r\n                            <p class=\"font-medium\">${car.doors}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Chilometraggio:</span>\r\n                            <p class=\"font-medium\">${car.mileage.toLocaleString()} km</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Prezzo:</span>\r\n                            <p class=\"font-medium\">${formatPrice(car.price)}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Numero Offerta:</span>\r\n                            <p class=\"font-medium\">${car.offerNumber}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Technical Specifications -->\r\n                <div class=\"bg-gray-50 p-6 rounded-lg\">\r\n                    <h3 class=\"text-lg font-semibold mb-4\">Specifiche Tecniche</h3>\r\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Potenza:</span>\r\n                            <p class=\"font-medium\">${car.power.hp} CV (${car.power.kw} kW)</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Cilindrata:</span>\r\n                            <p class=\"font-medium\">${car.engineSize} cm³</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Trasmissione:</span>\r\n                            <p class=\"font-medium\">${car.transmission === 'automatic' ? 'Automatica' : 'Manuale'}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Marce:</span>\r\n                            <p class=\"font-medium\">${car.gears}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Cilindri:</span>\r\n                            <p class=\"font-medium\">${car.cylinders}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Peso:</span>\r\n                            <p class=\"font-medium\">${car.weight} kg</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Environmental Data -->\r\n                <div class=\"bg-gray-50 p-6 rounded-lg\">\r\n                    <h3 class=\"text-lg font-semibold mb-4\">Dati Ambientali</h3>\r\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Tipo Carburante:</span>\r\n                            <p class=\"font-medium\">${\r\n                                car.fuelType === 'petrol' ? 'Benzina' :\r\n                                car.fuelType === 'diesel' ? 'Diesel' :\r\n                                car.fuelType === 'electric' ? 'Elettrica' :\r\n                                car.fuelType === 'hybrid' ? 'Ibrida' : car.fuelType\r\n                            }</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Classe Emissioni:</span>\r\n                            <p class=\"font-medium\">${car.emissionClass}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Consumo Carburante:</span>\r\n                            <p class=\"font-medium\">${car.fuelConsumption} l/100km</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Emissioni CO₂:</span>\r\n                            <p class=\"font-medium\">${car.co2Emissions} g/km</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Equipment -->\r\n                <div class=\"bg-gray-50 p-6 rounded-lg\">\r\n                    <h3 class=\"text-lg font-semibold mb-4\">Equipaggiamento</h3>\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <h4 class=\"font-medium text-gray-700 mb-2\">Comfort</h4>\r\n                            <ul class=\"list-disc list-inside space-y-1\">\r\n                                ${car.comfort.map(item => `<li class=\"text-gray-600\">${item}</li>`).join('')}\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <h4 class=\"font-medium text-gray-700 mb-2\">Intrattenimento</h4>\r\n                            <ul class=\"list-disc list-inside space-y-1\">\r\n                                ${car.entertainment.map(item => `<li class=\"text-gray-600\">${item}</li>`).join('')}\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <h4 class=\"font-medium text-gray-700 mb-2\">Sicurezza</h4>\r\n                            <ul class=\"list-disc list-inside space-y-1\">\r\n                                ${car.safety.map(item => `<li class=\"text-gray-600\">${item}</li>`).join('')}\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <h4 class=\"font-medium text-gray-700 mb-2\">Extra</h4>\r\n                            <ul class=\"list-disc list-inside space-y-1\">\r\n                                ${car.extras.map(item => `<li class=\"text-gray-600\">${item}</li>`).join('')}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Color and Interior -->\r\n                <div class=\"bg-gray-50 p-6 rounded-lg\">\r\n                    <h3 class=\"text-lg font-semibold mb-4\">Colore e Interni</h3>\r\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Colore:</span>\r\n                            <p class=\"font-medium\">${car.color}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Colore Specifico:</span>\r\n                            <p class=\"font-medium\">${car.specificColor}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Tipo Vernice:</span>\r\n                            <p class=\"font-medium\">${\r\n                                car.paintType === 'Solid' ? 'Pastello' :\r\n                                car.paintType === 'Metallic' ? 'Metallizzato' :\r\n                                car.paintType === 'Pearl' ? 'Perlato' :\r\n                                car.paintType === 'Matte' ? 'Opaco' : car.paintType\r\n                            }</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Colore Interni:</span>\r\n                            <p class=\"font-medium\">${car.interiorColor}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"text-gray-600\">Rivestimenti:</span>\r\n                            <p class=\"font-medium\">${\r\n                                car.upholstery === 'Fabric' ? 'Tessuto' :\r\n                                car.upholstery === 'Leather' ? 'Pelle' :\r\n                                car.upholstery === 'Full leather' ? 'Pelle totale' :\r\n                                car.upholstery === 'Premium synthetic leather' ? 'Pelle sintetica premium' : car.upholstery\r\n                            }</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Description -->\r\n                <div class=\"bg-gray-50 p-6 rounded-lg\">\r\n                    <h3 class=\"text-lg font-semibold mb-4\">Descrizione</h3>\r\n                    <p class=\"text-gray-600\">${car.description}</p>\r\n                </div>\r\n\r\n                <!-- Contact Button -->\r\n                <button onclick=\"openContactModalFromDetails()\" \r\n                        class=\"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors\">\r\n                    Contatta per Quest'Auto\r\n                </button>\r\n            </div>\r\n        `;\r\n    }\r\n    carDetailsModal.classList.remove('hidden');\r\n}\r\n\r\nfunction openContactModalFromDetails() {\r\n    if (!currentCar) return;\r\n    closeCarDetailsModal();\r\n    (window as any).openContactModal(currentCar.id);\r\n}\r\n\r\nexport function setupCarDetails() {\r\n    // Expose functions to window for HTML onclick handlers\r\n    (window as any).openCarDetailsModal = openCarDetailsModal;\r\n    (window as any).closeCarDetailsModal = closeCarDetailsModal;\r\n    (window as any).openContactModalFromDetails = openContactModalFromDetails;\r\n\r\n    return {\r\n        openCarDetailsModal,\r\n        closeCarDetailsModal,\r\n        openContactModalFromDetails\r\n    };\r\n}"]}