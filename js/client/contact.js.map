{"version":3,"file":"contact.js","sourceRoot":"","sources":["../../../src/client/contact.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,GAAG,EAAE,MAAM,aAAa,CAAC;AAElC,MAAM,UAAU,gBAAgB;IAC5B,MAAM,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;IAC7D,MAAM,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAoB,CAAC;IAC9E,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;IAExE,SAAS,gBAAgB,CAAC,KAAa;QACnC,IAAI,CAAC,YAAY,IAAI,CAAC,UAAU;YAAE,OAAO;QACzC,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC;QACzB,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IAED,SAAS,iBAAiB;QACtB,IAAI,CAAC,YAAY;YAAE,OAAO;QAC1B,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACrC,WAAW,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAGA,MAAc,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;IACnD,MAAc,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAGtD,WAAW,EAAE,gBAAgB,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;QAChD,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,MAAM,KAAK,GAAI,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAsB,CAAC,KAAK,CAAC;QAC3E,MAAM,KAAK,GAAI,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAsB,CAAC,KAAK,CAAC;QAC3E,MAAM,IAAI,GAAI,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAsB,CAAC,KAAK,CAAC;QACzE,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;QAE/B,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC;YACnB,KAAK,CAAC,gDAAgD,CAAC,CAAC;YACxD,OAAO;QACX,CAAC;QAED,MAAM,OAAO,GAAsC;YAC/C,KAAK;YACL,KAAK,EAAE,KAAK,IAAI,SAAS;YACzB,KAAK,EAAE,KAAK,IAAI,SAAS;YACzB,IAAI;SACP,CAAC;QAEF,MAAM,GAAG,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QACxC,KAAK,CAAC,wDAAwD,CAAC,CAAC;QAChE,iBAAiB,EAAE,CAAC;IACxB,CAAC,CAAC,CAAC;IAEH,OAAO;QACH,gBAAgB;QAChB,iBAAiB;KACpB,CAAC;AACN,CAAC","sourcesContent":["import { ContactRequest } from '../types';\r\nimport { api } from '../mock-api';\r\n\r\nexport function setupContactForm() {\r\n    const contactModal = document.getElementById('contactModal');\r\n    const contactForm = document.getElementById('contactForm') as HTMLFormElement;\r\n    const carIdInput = document.getElementById('carId') as HTMLInputElement;\r\n\r\n    function openContactModal(carId: string) {\r\n        if (!contactModal || !carIdInput) return;\r\n        carIdInput.value = carId;\r\n        contactModal.classList.remove('hidden');\r\n    }\r\n\r\n    function closeContactModal() {\r\n        if (!contactModal) return;\r\n        contactModal.classList.add('hidden');\r\n        contactForm.reset();\r\n    }\r\n\r\n    // Expose functions to window for HTML onclick handlers\r\n    (window as any).openContactModal = openContactModal;\r\n    (window as any).closeContactModal = closeContactModal;\r\n\r\n    // Handle form submission\r\n    contactForm?.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n        const email = (document.getElementById('email') as HTMLInputElement).value;\r\n        const phone = (document.getElementById('phone') as HTMLInputElement).value;\r\n        const note = (document.getElementById('note') as HTMLInputElement).value;\r\n        const carId = carIdInput.value;\r\n\r\n        if (!email && !phone) {\r\n            alert('Please provide either an email or phone number');\r\n            return;\r\n        }\r\n\r\n        const request: Omit<ContactRequest, 'timestamp'> = {\r\n            carId,\r\n            email: email || undefined,\r\n            phone: phone || undefined,\r\n            note\r\n        };\r\n\r\n        await api.submitContactRequest(request);\r\n        alert('Thank you for your interest! We will contact you soon.');\r\n        closeContactModal();\r\n    });\r\n\r\n    return {\r\n        openContactModal,\r\n        closeContactModal\r\n    };\r\n}"]}