<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <title>BCM Auto - Amministrazione</title>
    <script type="module">
      import './src/style.css';
    </script>
  </head>
  <body class="bg-gray-100">
    <nav class="bg-white shadow-lg">
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-between items-center py-4">
          <div class="text-2xl font-bold text-gray-800">BCM Auto Amministrazione</div>
          <a href="/BCMAuto/inventory.html" class="text-gray-600 hover:text-gray-800">
            <i class="fas fa-home"></i> Torna al Sito
          </a>
        </div>
      </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 py-8">
      <!-- Add Car Form Section -->
      <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
        <h2 class="text-xl font-bold mb-4">Aggiungi Nuova Auto</h2>
        <form id="addCarForm" class="space-y-6">
          <!-- Basic Information -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Informazioni Base</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="make" class="block text-gray-700 mb-2">Marca</label>
                <input type="text" name="make" id="make" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="model" class="block text-gray-700 mb-2">Modello</label>
                <input type="text" name="model" id="model" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="year" class="block text-gray-700 mb-2">Anno</label>
                <input type="number" name="year" id="year" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="price" class="block text-gray-700 mb-2">Prezzo</label>
                <input type="number" name="price" id="price" required class="w-full p-2 border rounded">
              </div>
            </div>
          </div>

          <!-- Vehicle Details -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Dettagli Veicolo</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label for="bodyType" class="block text-gray-700 mb-2">Tipo Carrozzeria</label>
                <select name="bodyType" id="bodyType" required class="w-full p-2 border rounded">
                  <option value="Sedan">Berlina</option>
                  <option value="SUV">SUV</option>
                  <option value="Hatchback">Compatta</option>
                  <option value="Coupe">Coupé</option>
                  <option value="Wagon">Station Wagon</option>
                </select>
              </div>
              <div>
                <label for="vehicleCondition" class="block text-gray-700 mb-2">Condizione</label>
                <select name="vehicleCondition" id="vehicleCondition" required class="w-full p-2 border rounded">
                  <option value="New">Nuova</option>
                  <option value="Used">Usata</option>
                </select>
              </div>
              <div>
                <label for="driveType" class="block text-gray-700 mb-2">Tipo Trazione</label>
                <select name="driveType" id="driveType" required class="w-full p-2 border rounded">
                  <option value="Front-wheel drive">Trazione anteriore</option>
                  <option value="Rear-wheel drive">Trazione posteriore</option>
                  <option value="All-wheel drive">Trazione integrale</option>
                </select>
              </div>
              <div>
                <label for="seats" class="block text-gray-700 mb-2">Posti</label>
                <input type="number" name="seats" id="seats" required class="w-full p-2 border rounded" min="2" max="9">
              </div>
              <div>
                <label for="doors" class="block text-gray-700 mb-2">Porte</label>
                <input type="number" name="doors" id="doors" required class="w-full p-2 border rounded" min="2" max="5">
              </div>
            </div>
          </div>

          <!-- Technical Specifications -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Specifiche Tecniche</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label for="powerKw" class="block text-gray-700 mb-2">Potenza (kW)</label>
                <input type="number" name="powerKw" id="powerKw" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="powerHp" class="block text-gray-700 mb-2">Potenza (CV)</label>
                <input type="number" name="powerHp" id="powerHp" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="engineSize" class="block text-gray-700 mb-2">Cilindrata (cm³)</label>
                <input type="number" name="engineSize" id="engineSize" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="gears" class="block text-gray-700 mb-2">Marce</label>
                <input type="number" name="gears" id="gears" required class="w-full p-2 border rounded" min="1" max="9">
              </div>
              <div>
                <label for="cylinders" class="block text-gray-700 mb-2">Cilindri</label>
                <input type="number" name="cylinders" id="cylinders" required class="w-full p-2 border rounded" min="0" max="16">
              </div>
              <div>
                <label for="weight" class="block text-gray-700 mb-2">Peso (kg)</label>
                <input type="number" name="weight" id="weight" required class="w-full p-2 border rounded">
              </div>
            </div>
          </div>

          <!-- Environmental Data -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Dati Ambientali</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label for="emissionClass" class="block text-gray-700 mb-2">Classe di Emissioni</label>
                <select name="emissionClass" id="emissionClass" required class="w-full p-2 border rounded">
                  <option value="Euro 6">Euro 6</option>
                  <option value="Euro 5">Euro 5</option>
                  <option value="Euro 4">Euro 4</option>
                  <option value="Zero Emission">Zero Emissioni</option>
                </select>
              </div>
              <div>
                <label for="fuelConsumption" class="block text-gray-700 mb-2">Consumo Carburante (l/100km)</label>
                <input type="number" name="fuelConsumption" id="fuelConsumption" required class="w-full p-2 border rounded" step="0.1">
              </div>
              <div>
                <label for="co2Emissions" class="block text-gray-700 mb-2">Emissioni CO₂ (g/km)</label>
                <input type="number" name="co2Emissions" id="co2Emissions" required class="w-full p-2 border rounded">
              </div>
            </div>
          </div>

          <!-- Equipment -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Equipaggiamento</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="comfort" class="block text-gray-700 mb-2">Comfort</label>
                <textarea name="comfort" id="comfort" required class="w-full p-2 border rounded" rows="3" 
                          placeholder="Inserisci caratteristiche separate da virgole"></textarea>
              </div>
              <div>
                <label for="entertainment" class="block text-gray-700 mb-2">Intrattenimento</label>
                <textarea name="entertainment" id="entertainment" required class="w-full p-2 border rounded" rows="3"
                          placeholder="Inserisci caratteristiche separate da virgole"></textarea>
              </div>
              <div>
                <label for="safety" class="block text-gray-700 mb-2">Sicurezza</label>
                <textarea name="safety" id="safety" required class="w-full p-2 border rounded" rows="3"
                          placeholder="Inserisci caratteristiche separate da virgole"></textarea>
              </div>
              <div>
                <label for="extras" class="block text-gray-700 mb-2">Extra</label>
                <textarea name="extras" id="extras" required class="w-full p-2 border rounded" rows="3"
                          placeholder="Inserisci caratteristiche separate da virgole"></textarea>
              </div>
            </div>
          </div>

          <!-- Color and Interior -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Colore e Interni</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="color" class="block text-gray-700 mb-2">Colore</label>
                <input type="text" name="color" id="color" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="specificColor" class="block text-gray-700 mb-2">Colore Specifico</label>
                <input type="text" name="specificColor" id="specificColor" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="paintType" class="block text-gray-700 mb-2">Tipo Vernice</label>
                <select name="paintType" id="paintType" required class="w-full p-2 border rounded">
                  <option value="Solid">Pastello</option>
                  <option value="Metallic">Metallizzato</option>
                  <option value="Pearl">Perlato</option>
                  <option value="Matte">Opaco</option>
                </select>
              </div>
              <div>
                <label for="interiorColor" class="block text-gray-700 mb-2">Colore Interni</label>
                <input type="text" name="interiorColor" id="interiorColor" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label for="upholstery" class="block text-gray-700 mb-2">Rivestimenti</label>
                <select name="upholstery" id="upholstery" required class="w-full p-2 border rounded">
                  <option value="Fabric">Tessuto</option>
                  <option value="Leather">Pelle</option>
                  <option value="Full leather">Pelle totale</option>
                  <option value="Premium synthetic leather">Pelle sintetica premium</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Images -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Immagini</h3>
            <div>
              <label for="images" class="block text-gray-700 mb-2">URL Immagini</label>
              <input type="text" name="images" id="images" required class="w-full p-2 border rounded" 
                     placeholder="https://immagine1.jpg, https://immagine2.jpg, https://immagine3.jpg">
              <p class="text-sm text-gray-500 mt-1">Inserisci più URL di immagini separati da virgole</p>
            </div>
          </div>

          <!-- Description -->
          <div class="border-b pb-4">
            <h3 class="text-lg font-semibold mb-4">Descrizione</h3>
            <div>
              <label for="description" class="block text-gray-700 mb-2">Descrizione</label>
              <textarea name="description" id="description" required class="w-full p-2 border rounded" rows="4"></textarea>
            </div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
            Aggiungi Auto
          </button>
        </form>
      </div>

      <!-- Car Listings Section with Search -->
      <div class="bg-white rounded-lg shadow-lg p-6">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-bold">Lista Auto</h2>
          <div class="relative w-64">
            <input type="text" 
                   id="adminSearchInput" 
                   placeholder="Cerca auto..." 
                   class="w-full p-2 pl-8 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
            <i class="fas fa-search absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          </div>
        </div>
        
        <div class="overflow-x-auto">
          <table class="min-w-full">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Auto</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Prezzo</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Azioni</th>
              </tr>
            </thead>
            <tbody id="carListings" class="bg-white divide-y divide-gray-200">
              <!-- Car listings will be dynamically inserted here -->
            </tbody>
          </table>
        </div>

        <!-- Pagination Controls -->
        <div id="adminPagination" class="flex justify-center space-x-2 mt-4">
          <!-- Pagination buttons will be dynamically inserted here -->
        </div>
      </div>
    </main>

    <script type="module">
      import { initializeAdmin } from './src/admin';
      initializeAdmin();
    </script>
  </body>
</html>
